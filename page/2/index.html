<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="keywords" content="javascript 前端">
<meta property="og:type" content="website">
<meta property="og:title" content="killsos">
<meta property="og:url" content="http://jsonload.com/page/2/index.html">
<meta property="og:site_name" content="killsos">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="killsos">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://jsonload.com/page/2/">





  <title>killsos</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">killsos</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">人情似水分高下 世事如云任卷舒</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/07/01/apifox使用与总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/01/apifox使用与总结/" itemprop="url">apifox使用与总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-01T10:07:45+08:00">
                2020-07-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="接口管理现状"><a href="#接口管理现状" class="headerlink" title="接口管理现状"></a>接口管理现状</h2><ol>
<li>使用 Swagger 管理接口文档</li>
<li>使用 Postman 调试接口</li>
<li>使用 RAP Mock 数据</li>
<li>使用 JMeter 做接口自动化测试</li>
</ol>
<h2 id="Apifox-解决方案"><a href="#Apifox-解决方案" class="headerlink" title="Apifox 解决方案"></a>Apifox 解决方案</h2><p>Apifox = Postman + Swagger + Mock + JMeter  </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/30/JavaScript’s-Memory-Model/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/30/JavaScript’s-Memory-Model/" itemprop="url">JavaScript’s Memory Model</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-30T16:36:05+08:00">
                2020-06-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="js-基本类型-声明-赋值"><a href="#js-基本类型-声明-赋值" class="headerlink" title="js 基本类型 声明 赋值"></a>js 基本类型 声明 赋值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">let myNumber = 23</span><br><span class="line"></span><br><span class="line">声明一个变量</span><br><span class="line">分配一个内地地址</span><br><span class="line">将变量值存储到内存中</span><br><span class="line"></span><br><span class="line">let newVar = myNumber</span><br><span class="line"></span><br><span class="line">也指向myNumber的内存地址</span><br><span class="line"></span><br><span class="line">myNumber = myNumber + 1</span><br><span class="line"></span><br><span class="line">myNumber指向新的内存地址</span><br><span class="line">新的内存地址中内容为 24</span><br><span class="line"></span><br><span class="line">基本类型 按值存储</span><br></pre></td></tr></table></figure>
<h2 id="js内存模型-调用栈和堆"><a href="#js内存模型-调用栈和堆" class="headerlink" title="js内存模型 调用栈和堆"></a>js内存模型 调用栈和堆</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">调用堆栈是存储基本类型的地方(除了函数调用之外)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">堆是存储对象类型的</span><br></pre></td></tr></table></figure>
<h2 id="对象类型变量-声明-赋值"><a href="#对象类型变量-声明-赋值" class="headerlink" title="对象类型变量 声明 赋值"></a>对象类型变量 声明 赋值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let myArray = []</span><br><span class="line">在堆中分配内存地址</span><br><span class="line">内存中存储内容</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/30/FQDN-域名-主机名/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/30/FQDN-域名-主机名/" itemprop="url">FQDN 域名 主机名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-30T15:14:04+08:00">
                2020-06-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="FQDN"><a href="#FQDN" class="headerlink" title="FQDN"></a>FQDN</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">FQDN：(Fully Qualified Domain Name)全限定域名</span><br><span class="line">又称为绝对领域名称（absolute domain name</span><br><span class="line"></span><br><span class="line">同时带有主机名和域名的名称。（通过符号“.”）</span><br><span class="line"></span><br><span class="line">主机名是bigserver,域名是mycompany.com,那么FQDN就是bigserver.mycompany.com</span><br><span class="line"></span><br><span class="line">全限定域名可以从逻辑上准确地表示出主机在什么地方，也可以说全域名是主机名的一种完全表示形式</span><br><span class="line"></span><br><span class="line">从全限定域名中包含的信息可以看出主机在域名树中的位置。</span><br><span class="line"></span><br><span class="line">完整域名 由  主机名称  与 母域名  两部分所组成</span><br><span class="line">FQDN = Hostname + DomainName</span><br><span class="line">例如有一部服务器的本地主机名为myhost，而其母域名为example.com，</span><br><span class="line">那指向该服务器的完整域名就是myhost.example.com。</span><br><span class="line">虽然世界上可能有很多服务器的本地主机名是myhost，</span><br><span class="line">但myhost.example.com是唯一的，因此完整域名能识别该特定服务器</span><br><span class="line"></span><br><span class="line">DNS解析流程：首先查找本机HOSTS表，有的直接使用表中定义，没有查找网络连接中设置的DNS 服务器由他来解析</span><br><span class="line"></span><br><span class="line">域名、主机名与URL</span><br><span class="line"></span><br><span class="line">URL 协议 主机名/域名 端口 路径 ?查询 #hash</span><br><span class="line"></span><br><span class="line">主机名/域名：主机名标识服务器</span><br><span class="line"></span><br><span class="line">http中host</span><br><span class="line"></span><br><span class="line">主机名/域名：主机名标识服务器</span><br><span class="line">也许还会有子域名作为主机名的前缀。子域名可以是任何形式的，其中www最为常见。子域名通常是可选的</span><br><span class="line"></span><br><span class="line">域名/子域名/主机名</span><br><span class="line"></span><br><span class="line">.com是顶级域名。</span><br><span class="line">baidu.com是一级域名。</span><br><span class="line">www.baidu.com、bbs.baidu.com、news.baidu.com是二级域名</span><br><span class="line"></span><br><span class="line">以http://www.sina.com.cn/为例，</span><br><span class="line">http是通信使用的协议，sina.com.cn是域名，</span><br><span class="line">www是提供服务的机器的名字（计算机名）</span><br><span class="line"></span><br><span class="line">计算机名+域名才是主机名，即www.sina.com.cn是主机名</span><br><span class="line"></span><br><span class="line">Linux下查看方式：</span><br><span class="line"></span><br><span class="line">hostname， 查看主机名</span><br><span class="line"></span><br><span class="line">hostname -f 查看FQDN</span><br><span class="line"></span><br><span class="line">dnsdomainname 查看域</span><br><span class="line"></span><br><span class="line">uname -h 查看主机名</span><br><span class="line"></span><br><span class="line">主机名(Hostname)和域名(Domain）</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/30/Tricky-Javascript-code-snippets-asked-in-the-interview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/30/Tricky-Javascript-code-snippets-asked-in-the-interview/" itemprop="url">Tricky Javascript code snippets asked in the interview</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-30T14:19:35+08:00">
                2020-06-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="show-code"><a href="#show-code" class="headerlink" title="show code"></a>show code</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  name: <span class="string">'Raj'</span>,</span><br><span class="line">  location: &#123;</span><br><span class="line">    city: <span class="string">'NY'</span>,</span><br><span class="line">    state: <span class="string">'NY'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> copy = <span class="built_in">Object</span>.assign(&#123;&#125;, user); <span class="comment">// 浅拷贝</span></span><br><span class="line"><span class="comment">// OR</span></span><br><span class="line"><span class="comment">// const copy = &#123; ...user &#125;; 浅拷贝</span></span><br><span class="line">copy.location.city = <span class="string">'Albany'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'original: '</span>, user.location);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'copy:'</span>, copy.location);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> number = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> display = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(number); <span class="comment">// undefined hoisting</span></span><br><span class="line">  <span class="keyword">var</span> number = <span class="number">20</span>;</span><br><span class="line">&#125;;</span><br><span class="line">display();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> result = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">delete</span> number;</span><br><span class="line">  <span class="keyword">return</span> number;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// delete 用于删除一个对象的属性</span></span><br><span class="line"><span class="comment">// number不是一个对象 是基本类型</span></span><br><span class="line"><span class="comment">// 所以不会报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> result = (<span class="function"><span class="keyword">function</span> (<span class="params">number</span>) </span>&#123; <span class="comment">// number是基本类型 按值传递 delete没起到任何作用</span></span><br><span class="line">  <span class="keyword">delete</span> number;</span><br><span class="line">  <span class="keyword">return</span> number;</span><br><span class="line">&#125;)(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">注意</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">window</span>.a  <span class="comment">// false 是不能删除的 虽然满足delete 的属性是一个自身的 不可配置的属性</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.aa = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">window</span>.aa <span class="comment">//  true 可以删除</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = b = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">// 赋值操作符 从右向左执行</span></span><br><span class="line">  <span class="comment">// b = 10;</span></span><br><span class="line">  <span class="comment">// var a = b</span></span><br><span class="line">  <span class="comment">// 没有用var声明 是全局变量</span></span><br><span class="line">&#125;</span><br><span class="line">display();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>, <span class="keyword">typeof</span> b === <span class="string">'undefined'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>, <span class="keyword">typeof</span> a === <span class="string">'undefined'</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">'use strict'</span>; <span class="comment">// 严格模式就不会 没有用var声明 是全局变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">display();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>, <span class="keyword">typeof</span> b === <span class="string">'undefined'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>, <span class="keyword">typeof</span> a === <span class="string">'undefined'</span>);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/30/Set-Up-Continuous-Delivery-for-Your-Node-js-Application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/30/Set-Up-Continuous-Delivery-for-Your-Node-js-Application/" itemprop="url">Set Up Continuous Delivery for Your Node.js Application</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-30T10:59:18+08:00">
                2020-06-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="用到技术"><a href="#用到技术" class="headerlink" title="用到技术"></a>用到技术</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GitLab CI</span><br><span class="line">post-receive git hook</span><br><span class="line">pm2</span><br><span class="line">digital ocean droplet</span><br></pre></td></tr></table></figure>
<h2 id="1-Create-User-and-Set-SSH-and-Sudo-Rights"><a href="#1-Create-User-and-Set-SSH-and-Sudo-Rights" class="headerlink" title="1. Create User and Set SSH and Sudo Rights"></a>1. Create User and Set SSH and Sudo Rights</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># This will create a user and home directory.</span></span><br><span class="line">useradd -s /bin/bash -m -d /home/deploy -c <span class="string">"deploy"</span> deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># There you will add a password for new user</span></span><br><span class="line">passwd deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># let new user use sudo</span></span><br><span class="line">usermod -aG sudo deploy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nano /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PermitRootLogin no <span class="comment"># forbid logging via root</span></span><br><span class="line">AllowUsers deploy <span class="comment"># we want to connect as a new user though :)</span></span><br><span class="line">PasswordAuthentication yes  <span class="comment"># just to have it there until ssh key is deployed</span></span><br><span class="line"></span><br><span class="line">sudo service ssh restart</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C “your_email@example.com”</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ~ &amp;&amp; mkdir .ssh &amp;&amp; touch .ssh/</span><br><span class="line"></span><br><span class="line">cat ~/.ssh/id_rsa.pub | ssh deploy@DROPLET_IP_ADDRESS “cat &gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys”</span><br><span class="line"></span><br><span class="line">nano ~/.zshrc</span><br><span class="line"><span class="built_in">alias</span> ssh_droplet=’ssh deploy@DEPLOY_IP_ADDRESS’</span><br></pre></td></tr></table></figure>
<h2 id="2-Setup-Droplet"><a href="#2-Setup-Droplet" class="headerlink" title="2. Setup Droplet"></a>2. Setup Droplet</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get install curl</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -</span><br><span class="line"><span class="comment"># Install node and npm</span></span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line">sudo npm install npm - global</span><br><span class="line"><span class="comment"># Install n package</span></span><br><span class="line">sudo npm cache clean -f</span><br><span class="line">sudo npm install -g n</span><br><span class="line">sudo n stable</span><br><span class="line"><span class="comment"># Install node version that you need with the help of n</span></span><br><span class="line">sudo n 13.6.0</span><br></pre></td></tr></table></figure>
<h2 id="3-pm2-Configuration"><a href="#3-pm2-Configuration" class="headerlink" title="3. pm2 Configuration"></a>3. pm2 Configuration</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">GitLab CI and post-receive git hook in a separate bare repository.</span><br><span class="line"></span><br><span class="line">pm2 无停机 部署</span><br><span class="line"></span><br><span class="line">这个神奇的应用程序使我们可以运行一个应用程序的多个实例，并在不停机的情况下随时切换它们</span><br><span class="line"></span><br><span class="line">在程序的根目录下创建一个ecosystem.config.js</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    apps: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: &apos;web app&apos;,</span><br><span class="line">            exec_mode: &apos;cluster&apos;,</span><br><span class="line">            instances: 4,</span><br><span class="line">            script: &apos;./start.js&apos;,</span><br><span class="line">            autorestart: true,</span><br><span class="line">            max_memory_restart: &apos;1G&apos;,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">name — just a name to be displayed on a dashboard</span><br><span class="line"></span><br><span class="line">exec_mode — use cluster for node.js, here’s an explanation of that</span><br><span class="line"></span><br><span class="line">instances — the number of instances to run — you can put max or any integer there</span><br><span class="line"></span><br><span class="line">script — your application starting file</span><br><span class="line"></span><br><span class="line">autorestart — if false pm2 will not restart the application if it crashes</span><br><span class="line"></span><br><span class="line">max_memory_restart — the application will be restarted if it exceeds that RAM limit</span><br></pre></td></tr></table></figure>
<h2 id="nuxt-js-pm2-Configuration"><a href="#nuxt-js-pm2-Configuration" class="headerlink" title="nuxt.js pm2 Configuration"></a>nuxt.js pm2 Configuration</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    apps: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: &apos;web app&apos;,</span><br><span class="line">            exec_mode: &apos;cluster&apos;,</span><br><span class="line">            instances: 4,</span><br><span class="line">            script: &apos;./node_modules/nuxt/bin/nuxt.js&apos;,</span><br><span class="line">            args: &apos;start&apos;,</span><br><span class="line">            autorestart: true,</span><br><span class="line">            max_memory_restart: &apos;1G&apos;,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">在git-hook之后 用 yarn build 构建</span><br><span class="line">在每一次push到master分支上</span><br><span class="line">nuxt start 或 pm2 start</span><br></pre></td></tr></table></figure>
<h2 id="Creating-a-git-hook"><a href="#Creating-a-git-hook" class="headerlink" title="Creating a git-hook"></a>Creating a git-hook</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mkdir git-hook</span><br><span class="line"><span class="built_in">cd</span> git-hook/</span><br><span class="line">git init - bare</span><br><span class="line"></span><br><span class="line"><span class="comment"># Let's leave it here for a moment and install magnificent pm2</span></span><br><span class="line">sudo npm install -g pm2</span><br><span class="line"></span><br><span class="line"><span class="comment"># And let's create server folder and pull repo there</span></span><br><span class="line">git <span class="built_in">clone</span> REPO_URL server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Also let's install yarn and install everything there for the start</span></span><br><span class="line">sudo npm install -g yarn</span><br><span class="line"><span class="built_in">cd</span> server &amp;&amp; yarn &amp;&amp; yarn install</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">TARGET=<span class="string">"/home/deploy/server"</span></span><br><span class="line">GIT_DIR=<span class="string">"/home/deploy/git-hook"</span></span><br><span class="line">BRANCH=<span class="string">"master"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> oldrev newrev ref</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="comment"># only checking out the master (or whatever branch you would like to deploy)</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">"<span class="variable">$ref</span>"</span> = <span class="string">"refs/heads/<span class="variable">$BRANCH</span>"</span> ];</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Ref <span class="variable">$ref</span> received. Deploying <span class="variable">$&#123;BRANCH&#125;</span> branch to production..."</span></span><br><span class="line">		git --work-tree=<span class="variable">$TARGET</span> --git-dir=<span class="variable">$GIT_DIR</span> checkout -f <span class="variable">$BRANCH</span></span><br><span class="line">		<span class="built_in">cd</span> /home/deploy/server</span><br><span class="line">		yarn install</span><br><span class="line">		pm2 restart all</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Ref <span class="variable">$ref</span> received. Doing nothing: only the <span class="variable">$&#123;BRANCH&#125;</span> branch may be deployed on this server."</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> oldrev newrev ref</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="string">"<span class="variable">$ref</span>"</span> = <span class="string">"refs/heads/<span class="variable">$BRANCH</span>"</span> ];</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Ref <span class="variable">$ref</span> received. Doing nothing: only the <span class="variable">$&#123;BRANCH&#125;</span> branch may be deployed on this server."</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="Setting-CD-on-GitLab-CI"><a href="#Setting-CD-on-GitLab-CI" class="headerlink" title="Setting CD on GitLab CI"></a>Setting CD on GitLab CI</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ci.yml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">image: node:13.6.0-alpine</span><br><span class="line"></span><br><span class="line">variables:</span><br><span class="line">  NODE_ENV: &apos;gitlab-ci&apos;</span><br><span class="line"></span><br><span class="line">cache:</span><br><span class="line">  paths:</span><br><span class="line">    - node_modules/</span><br><span class="line">    - .yarn</span><br><span class="line"></span><br><span class="line">stages:</span><br><span class="line">  - deploy</span><br><span class="line"></span><br><span class="line">Deploy master:</span><br><span class="line">  stage: deploy</span><br><span class="line">  only:</span><br><span class="line">    - master</span><br><span class="line">  before_script:</span><br><span class="line">    # add ssh deploy keys</span><br><span class="line">    - yarn config set cache-folder .yarn</span><br><span class="line">    - yarn install</span><br><span class="line">    # alpine has apk instead of apt-get</span><br><span class="line">    - &apos;which ssh-agent || ( apk update &amp;&amp; apk add openssh-client git curl)&apos;</span><br><span class="line">    - eval $(ssh-agent -s)</span><br><span class="line">    - echo &quot;$DIGITAL_OCEAN_PRIVATE&quot; | tr -d &apos;\r&apos; | ssh-add -</span><br><span class="line">    - mkdir -p ~/.ssh</span><br><span class="line">    - chmod 700 ~/.ssh</span><br><span class="line">    # disable SSH check cause known_hosts doesn&apos;t work</span><br><span class="line">    - &apos;[[ -f /.dockerenv ]] &amp;&amp; echo -e &quot;Host *\n\tStrictHostKeyChecking no\n\n&quot; &gt; ~/.ssh/config&apos;</span><br><span class="line">    # - echo &quot;$SSH_KNOWN_HOSTS&quot; &gt; ~/.ssh/known_hosts</span><br><span class="line">    # - chmod 644 ~/.ssh/known_hosts</span><br><span class="line">    # add digital ocean remote repop</span><br><span class="line">    - git remote add production deploy@YOUR_DIGITAL_OCEAN_IP:git-hook</span><br><span class="line">    # prepare files</span><br><span class="line">    - git checkout master</span><br><span class="line">    - git config --global user.email &quot;michail.a.starikov@gmail.com&quot;</span><br><span class="line">    - git config --global user.name &quot;Mikhail Starikov&quot;</span><br><span class="line">  script:</span><br><span class="line">    - git push -f production HEAD:master</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/30/The-Power-of-Functions-Returning-Other-Functions-in-JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/30/The-Power-of-Functions-Returning-Other-Functions-in-JavaScript/" itemprop="url">The Power of Functions Returning Other Functions in JavaScript</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-30T10:48:41+08:00">
                2020-06-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="The-Function-With-Intention"><a href="#The-Function-With-Intention" class="headerlink" title="The Function With Intention"></a>The Function With Intention</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getDate(callback) &#123;</span><br><span class="line">  return callback(new Date())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function start(callback) &#123;</span><br><span class="line">  return getDate(callback)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">start(function (date) &#123;</span><br><span class="line">  console.log(`Todays date: $&#123;date&#125;`)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Abstraction-and-Composition"><a href="#Abstraction-and-Composition" class="headerlink" title="Abstraction and Composition"></a>Abstraction and Composition</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">要知道要抽象什么，请考虑我们的最终目标是：</span><br><span class="line"></span><br><span class="line">“如果函数接受一个对象并返回一个新对象，该对象按照我们希望的方式更新了样式，那该怎么办？”</span><br><span class="line"></span><br><span class="line">本质上，此函数的重点是将一个值转换为我们期望的表示形式</span><br><span class="line"></span><br><span class="line">抽象本质是 明确输入 明确输出</span><br></pre></td></tr></table></figure>
<h2 id="Breaking-Changes"><a href="#Breaking-Changes" class="headerlink" title="Breaking Changes"></a>Breaking Changes</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如何导致灾难性错误，这些错误会使您的应用崩溃</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/29/The-Secret-of-Simple-Code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/29/The-Secret-of-Simple-Code/" itemprop="url">The Secret of Simple Code</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-29T18:24:04+08:00">
                2020-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Abstraction-is-the-Key-to-Simple-Code"><a href="#Abstraction-is-the-Key-to-Simple-Code" class="headerlink" title="Abstraction is the Key to Simple Code"></a>Abstraction is the Key to Simple Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">正确的抽象可以隐藏对当前上下文不重要的细节，</span><br><span class="line">并减少执行相同工作所需的代码量（通常减少几个数量级），</span><br><span class="line">从而使代码更具可读性，适应性和可维护性</span><br><span class="line"></span><br><span class="line">抽象不是一条单向路。</span><br><span class="line">它实际上是由两个互补的概念构成的：</span><br><span class="line"></span><br><span class="line">泛化—删除重复的部分（显而易见的部分）并将其隐藏在抽象后面。</span><br><span class="line"></span><br><span class="line">特殊化-将抽象应用于特定用例，只添加需要不同的内容（有意义的内容）</span><br><span class="line"></span><br><span class="line">const doubleList = list =&gt; &#123;</span><br><span class="line">  const newList = [];</span><br><span class="line">  for (var i = 0; i &lt; list.length; i++) &#123;</span><br><span class="line">    newList[i] = list[i] * 2;</span><br><span class="line">  &#125;</span><br><span class="line">  return newList;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">该代码本质上没有错，但其中包含许多细节，对于该特定应用而言可能并不重要。</span><br><span class="line"></span><br><span class="line">它包含正在使用的容器/传输数据结构（数组）的详细信息，这意味着它仅适用于数组。 它包含状态形状依赖性。</span><br><span class="line"></span><br><span class="line">它包含迭代逻辑，这意味着，如果您需要其他操作也需要访问数据结构中的每个元素，则也需要在该代码中重复非常相似的迭代逻辑。 它会强制重复，这可能违反DRY（请勿重复自己）。</span><br><span class="line"></span><br><span class="line">它包括一个显式分配，而不是以声明方式描述要执行的操作。 太冗长了。</span><br><span class="line"></span><br><span class="line">这些都没有必要。 所有这些都可以隐藏在抽象的后面。 在这种情况下，这种非常通用的抽象已经改变了构建现代应用程序的方式，并减少了我们需要编写的显式for循环的数量。</span><br><span class="line"></span><br><span class="line">通过使用map操作，我们可以通过删除明显的代码（我们可能会在相似的代码中重复的部分）并将代码集中在有意义的代码上（只是需要与我们使用的代码有所不同的代码），从而将代码简化为单一代码</span><br><span class="line"></span><br><span class="line">const doubleList = list =&gt; list.map(x =&gt; x * 2);</span><br><span class="line"></span><br><span class="line">初级开发人员认为他们必须编写大量代码才能产生大量价值</span><br><span class="line"></span><br><span class="line">高级开发人员理解没有人需要编写的代码的价值</span><br><span class="line"></span><br><span class="line">正确的抽象是可以极大地影响生产力的强大杠杆。 抽象不是一个脏话。 、</span><br><span class="line">模块，函数，变量，类-所有这些都是抽象的形式，它们存在的全部原因是为了简化抽象和抽象的构成。</span><br><span class="line"></span><br><span class="line">没有抽象就无法构建复杂的软件。 甚至汇编语言也使用抽象-指令的名称，变量的内存地址，</span><br><span class="line">子例程（如函数调用）跳转到的代码点等。现代软件是有用抽象的一层蛋糕，这些层使您可以利用</span><br><span class="line"></span><br><span class="line">简化的关键：我们追求的秘密-如何减少正在生成的代码量-如何用更少的钱做更多的事情。 掌握了这一点之后，您将成为10倍的程序员。 我保证</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/29/JSON-stringify/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/29/JSON-stringify/" itemprop="url">JSON.stringify</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-29T17:53:49+08:00">
                2020-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第二个参数"><a href="#第二个参数" class="headerlink" title="第二个参数"></a>第二个参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">数组  在控制台中打印的对象的键数组</span><br><span class="line"></span><br><span class="line">let product = &#123;&quot;id&quot;:&quot;0001&quot;,&quot;type&quot;:&quot;donut&quot;,&quot;name&quot;:&quot;Cake&quot;,&quot;ppu&quot;:0.55&#125;</span><br><span class="line">console.log(JSON.stringify(product,[&apos;name&apos; ]);</span><br><span class="line"></span><br><span class="line">// 结果</span><br><span class="line">&#123;&quot;name&quot; : &quot;Cake&quot;&#125;</span><br><span class="line"></span><br><span class="line">函数 根据函数中写入的逻辑来计算每个键值对。如果返回 undefined，则不会打印键值对</span><br><span class="line">const user = &#123;</span><br><span class="line"> &quot;name&quot; : &quot;Prateek Singh&quot;,</span><br><span class="line"> &quot;age&quot; : 26</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">JSON.stringify(user, (key, value) =&gt; &#123;</span><br><span class="line">  reuturn // 返回值如果是undefined 不显示</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="第三个参数"><a href="#第三个参数" class="headerlink" title="第三个参数"></a>第三个参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">数字  控制最后一个字符串的间距</span><br><span class="line">字符串化中的每个级别都将缩进这个数量的空格字符</span><br><span class="line"></span><br><span class="line">// 注意：为了达到理解的目的，使用 &apos;--&apos; 替代了空格</span><br><span class="line"></span><br><span class="line">JSON.stringify(user, null, 2);</span><br><span class="line">//&#123;</span><br><span class="line">//--&quot;name&quot;: &quot;Prateek Singh&quot;,</span><br><span class="line">//--&quot;age&quot;: 26,</span><br><span class="line">//--&quot;country&quot;: &quot;India&quot;</span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line">字符串 将使用它来代替上面显示的空格字符</span><br><span class="line"></span><br><span class="line">JSON.stringify(user, null,&apos;**&apos;);</span><br><span class="line">//&#123;</span><br><span class="line">//**&quot;name&quot;: &quot;Prateek Singh&quot;,</span><br><span class="line">//**&quot;age&quot;: 26,</span><br><span class="line">//**&quot;country&quot;: &quot;India&quot;</span><br><span class="line">//&#125;</span><br><span class="line">// 这里 * 取代了空格字符</span><br></pre></td></tr></table></figure>
<h2 id="toJSON"><a href="#toJSON" class="headerlink" title="toJSON"></a>toJSON</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">toJSON 的方法，它可以作为任意对象的属性</span><br><span class="line"></span><br><span class="line">JSON.stringify 返回这个函数的结果并对其进行序列化，而不是将整个对象转换为字符串</span><br><span class="line"></span><br><span class="line">const user = &#123;</span><br><span class="line"> firstName : &quot;Prateek&quot;,</span><br><span class="line"> lastName : &quot;Singh&quot;,</span><br><span class="line"> age : 26,</span><br><span class="line"> toJSON() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      fullName: `$&#123;this.firstName&#125; + $&#123;this.lastName&#125;`</span><br><span class="line">    &#125;;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(JSON.stringify(user));</span><br><span class="line"></span><br><span class="line">// 结果</span><br><span class="line">// &quot;&#123; &quot;fullName&quot; : &quot;Prateek Singh&quot;&#125;&quot;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/29/same-site-same-origin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/29/same-site-same-origin/" itemprop="url">same-site same-origin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-29T16:53:19+08:00">
                2020-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="同源"><a href="#同源" class="headerlink" title="同源"></a>同源</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">origin  同协议  同主机名  同端口</span><br><span class="line"></span><br><span class="line">三同为一个origin</span><br></pre></td></tr></table></figure>
<h2 id="同站"><a href="#同站" class="headerlink" title="同站"></a>同站</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">site .com 和 .org 这样的顶级域名(tld)会在根区域数据库中被列出</span><br><span class="line">tld: Top-level Domain</span><br><span class="line"></span><br><span class="line">site 是 TLD 和它前面的部分域的组合</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">给定一个URL  https://www.example.com:443/foo ，site 就是 example.com</span><br><span class="line"></span><br><span class="line">对于 .co.jp 或 .github.io 这样的域名。仅仅使用 .jp 或 .io 的 TLD 是不够细粒度的。</span><br><span class="line">而且也没有办法通过算法确定特定 TLD 的可注册域名级别。</span><br><span class="line">这就是创建“有效顶级域名”列表的原因。</span><br><span class="line">.github.io等这种域名 它们在公共后缀列表中定义。</span><br><span class="line">etld 列表在 publicsuffix.org/list 上维护。</span><br><span class="line"></span><br><span class="line">整个站点命名为 eTLD + 1 。例如，假定 URL 为 https://my-project.github.io，则 eTLD 为 .github.io</span><br><span class="line"></span><br><span class="line">而 eTLD + 1 为 my-project.github.io，这被视为 site。</span><br><span class="line"></span><br><span class="line">换句话说，eTLD+1 是有效的 TLD 紧接其之前的域的一部分。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Cookie（复数形态Cookies），类型为「小型文本文件」，指某些网站为了辨别用户身份而储存在用户本地终端上的数据。</span><br><span class="line"></span><br><span class="line">作为一段一般不超过 4KB 的小型文本数据，它由一个名称（Name）、一个值（Value）和其它几个用于控制 Cookie 有效期、安全性、使用范围的可选属性组成，</span><br><span class="line"></span><br><span class="line">Mac 下的 Chrome，存放目录就是 ~/Library/Application Support/Google/Chrome/Default，里面会有一个名为 Cookies 的数据库文件</span><br><span class="line"></span><br><span class="line">你可以使用 sqlite 软件打开它</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SameSite</span><br><span class="line">SameSite 是最近非常值得一提的内容，因为 2 月份发布的 Chrome80 版本中默认屏蔽了第三方的 Cookie，这会导致产生问题</span><br><span class="line">1. 作用</span><br><span class="line">我们先来看看这个属性的作用：</span><br><span class="line"></span><br><span class="line">SameSite 属性可以让 Cookie 在跨站请求时不会被发送，从而可以阻止跨站请求伪造攻击（CSRF）</span><br><span class="line">2. 属性值</span><br><span class="line">SameSite 可以有下面三种值：</span><br><span class="line"></span><br><span class="line">Strict 仅允许一方请求携带 Cookie，即浏览器将只发送相同站点请求的 Cookie，即当前网页 URL 与请求目标 URL 完全一致。</span><br><span class="line">Lax 允许部分第三方请求携带 Cookie</span><br><span class="line">None 无论是否跨站都会发送 Cookie</span><br><span class="line">之前默认是 None 的，Chrome80 后默认是 Lax</span><br><span class="line"></span><br><span class="line">Cookie中的「同站」判断就比较宽松：只要两个 URL 的 eTLD+1 相同即可，不需要考虑协议和端口。</span><br><span class="line">其中，eTLD 表示有效顶级域名，注册于 Mozilla 维护的公共后缀列表（Public Suffix List）中，</span><br><span class="line">例如，.com、.co.uk、.github.io 等。eTLD+1 则表示，有效顶级域名+二级域名，例如 taobao.com 等。</span><br><span class="line"></span><br><span class="line">Chrome 发送请求时会附带一个  Sec-Fetch-Site HTTP Header 。截至2020年4月，还没有其他浏览器支持 Sec-Fetch-Site，这个 HTTP Header 将有以下值之一:</span><br><span class="line"></span><br><span class="line">cross-site</span><br><span class="line">same-site</span><br><span class="line">same-origin</span><br><span class="line">none</span><br><span class="line">通过检查 Sec-Fetch-Site 的值，您可以确定请求是 “同站”，“同源” 还是 “跨站”。</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2020/06/28/JavaScript-Basics-—-Prototypes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/28/JavaScript-Basics-—-Prototypes/" itemprop="url">JavaScript Basics — Prototypes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-28T18:00:25+08:00">
                2020-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Prototypes"><a href="#Prototypes" class="headerlink" title="Prototypes"></a>Prototypes</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">Prototype是一个对象</span><br><span class="line">js继承通过它来完成</span><br><span class="line"></span><br><span class="line">对象通过Object.getPrototypeOf来原型</span><br><span class="line"></span><br><span class="line">Object.getPrototypeOf() 方法返回指定对象的原型（内部[[Prototype]]属性的值）</span><br><span class="line"></span><br><span class="line">或者 __proto__</span><br><span class="line"></span><br><span class="line">函数 继承自 Function.prototype</span><br><span class="line"></span><br><span class="line">Function.prototype 继承自Object.prototype</span><br><span class="line"></span><br><span class="line">函数</span><br><span class="line"></span><br><span class="line">function bar() &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(1, bar.prototype) // &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(2, bar.prototype.constructor)  // [Function: bar]</span><br><span class="line"></span><br><span class="line">console.log(3, Object.getPrototypeOf(bar)) // [Function]</span><br><span class="line"></span><br><span class="line">console.log(4, Object.getPrototypeOf(bar).constructor) // [Function: Function]</span><br><span class="line"></span><br><span class="line">console.log(5, Object.getPrototypeOf(Object.getPrototypeOf(bar))) // &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(6, Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(bar)))) // null</span><br><span class="line"></span><br><span class="line">function bar() &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(1, bar.prototype) // bar &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(2, bar.prototype.constructor) // [Function: bar]</span><br><span class="line"></span><br><span class="line">console.log(3, bar.__proto__) // [Function]</span><br><span class="line"></span><br><span class="line">console.log(4, bar.__proto__.constructor) // [Function: Function]</span><br><span class="line"></span><br><span class="line">console.log(5, Object.getPrototypeOf(bar)) // [Function]</span><br><span class="line"></span><br><span class="line">console.log(6, Object.getPrototypeOf(bar).constructor) // [Function: Function]</span><br><span class="line"></span><br><span class="line">总结 对于函数的 __proto__属性 和  Object.getPrototypeOf方法 是获得 对象的原型的获取</span><br><span class="line">所以 是对bar.prototype这个对象进行计算</span><br><span class="line"></span><br><span class="line">一道不错的面试题</span><br><span class="line"></span><br><span class="line">function bar() &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(1, bar.prototype) // bar &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(2, bar.prototype.constructor) // [Function: bar]</span><br><span class="line"></span><br><span class="line">console.log(3, bar.__proto__) // [Function]</span><br><span class="line"></span><br><span class="line">console.log(4, bar.__proto__.constructor) // [Function: Function]</span><br><span class="line"></span><br><span class="line">说明了 函数没有__proto__属性 只有普通对象才会有这个属性__proto__</span><br><span class="line">所以会才递归查找</span><br><span class="line"></span><br><span class="line">同理 Object.getPrototypeOf这个也是查询普通对象的原型</span><br><span class="line"></span><br><span class="line">所有 bar.protprototype 一定不等于 Object.getPrototypeOf(bar)</span><br><span class="line"></span><br><span class="line">对象</span><br><span class="line"></span><br><span class="line">let  bar = &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(1, bar.__proto__) // &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(2, bar.__proto__.constructor)  // [Function: Object]</span><br><span class="line"></span><br><span class="line">console.log(3, Object.getPrototypeOf(bar)) // &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(3, Object.getPrototypeOf(bar) === bar.__proto__) // true</span><br><span class="line"></span><br><span class="line">console.log(4, Object.getPrototypeOf(bar).constructor) // [Function: Object]</span><br><span class="line"></span><br><span class="line">console.log(5, Object.getPrototypeOf(Object.getPrototypeOf(bar))) // null</span><br></pre></td></tr></table></figure>
<h2 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create"></a>Object.create</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指定原型创造对象</span><br><span class="line">Object.create(proto, [propertiesObject])</span><br><span class="line"></span><br><span class="line">// proto 可以为null</span><br></pre></td></tr></table></figure>
<h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类的出现是原型继承的语法糖</span><br><span class="line"></span><br><span class="line">extends</span><br><span class="line"></span><br><span class="line">super 继承父级属性和调用父级方法</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">killsos.ql@gmail.com</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">135</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">killsos.ql@gmail.com</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
