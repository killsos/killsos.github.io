<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="killsos">
<meta property="og:url" content="http://jsonload.com/index.html">
<meta property="og:site_name" content="killsos">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="killsos">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://jsonload.com/">





  <title>killsos</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">killsos</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">人情似水分高下 世事如云任卷舒</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/30/CORS跨域请求之简单请求与非简单请求/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/30/CORS跨域请求之简单请求与非简单请求/" itemprop="url">CORS跨域请求之简单请求与非简单请求</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-30T16:04:52+08:00">
                2019-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h2><pre><code>就是使用设定的请求方式请求数据
</code></pre><h2 id="非简单请求"><a href="#非简单请求" class="headerlink" title="非简单请求"></a>非简单请求</h2><pre><code>则是在使用设定的请求方式请求数据之前
先发送一个OPTIONS请求 
看服务端是否允许客户端发送非简单请
只有&quot;预检&quot;通过后才会再发送一次请求用于数据传输
</code></pre><h2 id="简单请求与非简单请求的区别"><a href="#简单请求与非简单请求的区别" class="headerlink" title="简单请求与非简单请求的区别"></a>简单请求与非简单请求的区别</h2><pre><code>* 请求方式:HEAD,GET,POST
* 请求头信息:
    Accept
    Accept-Language
    Content-Language
    Last-Event-ID
    Content-Type 对应的值是以下三个中的任意一个
        application/x-www-form-urlencoded
        multipart/form-data
        text/plain

只有同时满足以上两个条件时,才是简单请求,否则为非简单请求
</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><pre><code>对于非简单请求,客户端以PUT方式请求数据,服务端的&quot;预检&quot;里边一定要包含允许客户端使用非简单方式请求数据的响应头

“预检”请求时，允许请求方式则需服务器设置响应头：Access-Control-Request-Method
“预检”请求时，允许请求头则需服务器设置响应头：Access-Control-Request-Headers
“预检”缓存时间，服务器设置响应头：Access-Control-Max-Age
虽然可以通过设置响应头和响应方式等支持非简单请求,但是不到万不得已的情况,不能允许客户端发送非简单请求.
因为非简单请求会使服务器比简单请求的多一倍的压力.
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/22/虚拟机网络模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/22/虚拟机网络模式/" itemprop="url">虚拟机网络模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-22T00:21:13+08:00">
                2019-03-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="虚拟机有三种网络模式"><a href="#虚拟机有三种网络模式" class="headerlink" title="虚拟机有三种网络模式"></a>虚拟机有三种网络模式</h2><pre><code>1. 桥接

2. NAT

3. Host-Only
</code></pre><h2 id="桥接"><a href="#桥接" class="headerlink" title="桥接"></a>桥接</h2><pre><code>桥接网络是指本地物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接

物理网卡和虚拟网卡在拓扑图上处于同等地位

那么物理网卡和虚拟网卡就相当于处于同一个网段

虚拟交换机就相当于一台现实网络中的交换机

所以两个网卡的IP地址也要设置为同一网段   
</code></pre><h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><pre><code>NAT模式中  就是让虚拟机借助NAT(网络地址转换)功能

通过宿主机器所在的网络来访问公网

NAT模式中   虚拟机的网卡和物理网卡的网络 不在同一个网络

虚拟机的网卡  是在vmware提供的一个虚拟网络

NAT和桥接的比较:

    1   NAT模式和桥接模式虚拟机都可以上外网

    2   由于NAT的网络在vmware提供的一个虚拟网络里
        所以局域网其他主机是无法访问虚拟机的  而宿主机可以访问虚拟机
        虚拟机可以访问局域网的所有主机
        因为真实的局域网相对于NAT的虚拟网络
        就是NAT的虚拟网络的外网

    3   桥接模式下 多个虚拟机之间可以互相访问
        NAT模式下 多个虚拟机之间也可以相互访问

如果你建一个虚拟机 只是给自己用 不需要给局域网其他人用  那么可以选择NAT

毕竟NAT模式下的虚拟系统的TCP/IP配置信息是由VMnet8(NAT)虚拟网络的DHCP服务器提供的

只要虚拟机的网路配置是DHCP  那么你不需要进行任何其他的配置

只需要宿主机器能访问互联网即可  就可以让虚拟机联网了    
</code></pre><h2 id="Host-Only"><a href="#Host-Only" class="headerlink" title="Host-Only"></a>Host-Only</h2><pre><code>在Host-Only模式下 虚拟网络是一个全封闭的网络

它唯一能够访问的就是主机

其实Host-Only网络和NAT网络很相似 不同的地方就是Host-Only网络没有NAT服务

所以虚拟网络不能连接到Internet

主机和虚拟机之间的通信是通过VMware Network Adepter VMnet1虚拟网卡来实现的

Host-Only的宗旨就是建立一个与外界隔绝的内部网络 来提高内网的安全性

这个功能或许对普通用户来说没有多大意义

但大型服务商会常常利用这个功能

如果你想为VMnet1网段提供路由功能

那就需要使用RRAS    而不能使用XP或2000的ICS

因为ICS会把内网的IP地址改为192.168.0.1

但虚拟机是不会给VMnet1虚拟网卡分配这个地址的

那么主机和虚拟机之间就不能通信了
</code></pre><h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2><pre><code>在VMware的3中网络模式中 NAT模式是最简单的

基本不需要手动配置IP地址等相关参数 至于桥接模式则需要额外的IP地址

如果是在内网环境中还很容易

如果是ADSL宽带就比较麻烦了

ISP一般是不会大方的多提供一个公网IP的
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/17/git-reset-revert/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/git-reset-revert/" itemprop="url">git reset revert</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-17T20:45:48+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="回滚"><a href="#回滚" class="headerlink" title="回滚"></a>回滚</h2><pre><code>大致分为下面2种情况
</code></pre><h4 id="1-没有push"><a href="#1-没有push" class="headerlink" title="1.没有push"></a>1.没有push</h4><pre><code>这种情况发生在你的本地代码仓库,可能你add ,commit 以后发现代码有点问题
准备取消提交,用到下面命令

git reset [--soft | --mixed | --hard

--mixed 会保留源码,只是将git commit和index 信息回退到了某个版本.

git reset 默认是 --mixed 模式   
git reset --mixed  等价于  git reset

--soft
保留源码,只回退到commit 信息到某个版本
不涉及index的回退,如果还需要提交,直接commit即可.

--hard
源码也会回退到某个版本,commit和index 都回回退到某个版本
(注意,这种方式是改变本地代码仓库源码)
</code></pre><h4 id="2-已经push"><a href="#2-已经push" class="headerlink" title="2.已经push"></a>2.已经push</h4><pre><code>对于已经把代码push到线上仓库,你回退本地代码其实也想同时回退线上代码

回滚到某个指定的版本,线上,线下代码保持一致.你要用到下面的命令

git revert用于反转提交,执行evert命令时要求工作树必须是干净的

git revert用一个新提交来消除一个历史提交所做的任何修改

revert 之后你的本地代码会回滚到指定的历史版本

这时你再 git push 既可以把线上的代码更新

revert 使用,需要先找到你想回滚版本唯一的commit标识代码

可以用 git log 或者在adgit搭建的web环境历史提交记录里查看

git revert c011eb3c20ba6fb38cc94fe5a8dda366a3990c61

通常,前几位即可

git revert c011eb3
</code></pre><h4 id="git-revert是用一次新的commit来回滚之前的commit，git-reset是直接删除指定的commit"><a href="#git-revert是用一次新的commit来回滚之前的commit，git-reset是直接删除指定的commit" class="headerlink" title="git revert是用一次新的commit来回滚之前的commit，git reset是直接删除指定的commit"></a>git revert是用一次新的commit来回滚之前的commit，git reset是直接删除指定的commit</h4><pre><code>看似达到的效果是一样的,其实完全不同.

第一:

上面我们说的如果你已经push到线上代码库, reset 删除指定commit以后,你git push可能导致一大堆冲突.但是revert 并不会.

第二:

如果在日后现有分支和历史分支需要合并的时候,reset 恢复部分的代码依然会出现在历史分支里.但是revert 方向提交的commit 并不会出现在历史分支里.

第三:

reset 是在正常的commit历史中,删除了指定的commit,这时 HEAD 是向后移动了,而 revert 是在正常的commit历史中再commit一次,只不过是反向提交,他的HEAD 是一直向前的.
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/17/粘包分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/粘包分析/" itemprop="url">粘包分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-17T20:13:01+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-长连接与短连接"><a href="#1-长连接与短连接" class="headerlink" title="1. 长连接与短连接"></a>1. 长连接与短连接</h2><p>1.长连接</p>
<pre><code>Client方与Server方先建立通讯连接，连接建立后不断开， 然后再进行报文发送和接收。
</code></pre><p>2.短连接</p>
<pre><code>Client方与Server每进行一次报文收发交易时才进行通讯连接，交易完毕后立即断开连接。此种方式常用于一点对多点 
</code></pre><p>通讯，比如多个Client连接一个Server.</p>
<h2 id="2-什么时候需要考虑粘包问题"><a href="#2-什么时候需要考虑粘包问题" class="headerlink" title="2 什么时候需要考虑粘包问题?"></a>2 什么时候需要考虑粘包问题?</h2><pre><code>1: 如果利用tcp每次发送数据，就与对方建立连接，然后双方发送完一段数据后，就关闭连接，这样就不会出现粘包问题

2: 如果发送数据无结构，如文件传输，这样发送方只管发送，接收方只管接收存储就ok，也不用考虑粘包
</code></pre><h2 id="3-粘包出现原因"><a href="#3-粘包出现原因" class="headerlink" title="3 粘包出现原因"></a>3 粘包出现原因</h2><pre><code>在流传输中出现，UDP不会出现粘包，因为它有消息边界

1 发送端需要等缓冲区满才发送出去，造成粘包

2 接收方不及时接收缓冲区的包，造成多个包接收

解决办法：

    为了避免粘包现象，可采取以下几种措施

    一 是对于发送方引起的粘包现象，用户可通过编程设置来避免，TCP提供了强制数据立即传送的操作指令push，TCP软件收到该操作指令后，就立即将本段数据发送出去，而不必等待发送缓冲区满

    二 是对于接收方引起的粘包，则可通过优化程序设计、精简接收进程工作量、提高接收进程优先级等措施，使其及时接收数据，从而尽量避免出现粘包现象

    三 是由接收方控制，将一包数据按结构字段，人为控制分多次接收，然后合并，通过这种手段来避免粘包

TCP是个&quot;流&quot;协议,所谓流,就是没有界限的一串数据.大家可以想想河里的流水,是连成一片的,其间是没有分界线的.但一般通讯程序开发是需要定义一个个相互独立的数据包的,比如用于登陆的数据包,用于注销的数据包.由于TCP&quot;流&quot;的特性以及网络状况,在进行数据传输时会出现以下几种情况.

假设我们连续调用两次send分别发送两段数据data1和data2,
在接收端有以下几种接收情况(当然不止这几种情况,这里只列出了有代表性的情况).

A.先接收到data1,然后接收到data2.

B.先接收到data1的部分数据,然后接收到data1余下的部分以及data2的全部.

C.先接收到了data1的全部数据和data2的部分数据,然后接收到了data2的余下的数据.

D.一次性接收到了data1和data2的全部数据.

对于A这种情况正是我们需要的,不再做讨论.

对于B,C,D的情况就是大家经常说的&quot;粘包&quot;,就需要我们把接收到的数据进行拆包
拆成一个个独立的数据包.为了拆包就必须在发送端进行封包
</code></pre><h4 id="为什么会出现B-C-D的情况"><a href="#为什么会出现B-C-D的情况" class="headerlink" title="为什么会出现B.C.D的情况."></a>为什么会出现B.C.D的情况.</h4><pre><code>&quot;粘包&quot;可发生在发送端也可发生在接收端.

1.由Nagle算法造成的发送端的粘包:Nagle算法是一种改善网络传输效率的算法.
简单的说,当我们提交一段数据给TCP发送时,TCP并不立刻发送此段数据
而是等待一小段时间,看看在等待期间是否还有要发送的数据
若有则会一次把这两段数据发送出去.这是对Nagle算法一个简单的解释
详细的请看相关书籍.象C和D的情况就有可能是Nagle算法造成的.

2.接收端接收不及时造成的接收端粘包:TCP会把接收到的数据存在自己的缓冲区中
然后通知应用层取数据.当应用层由于某些原因不能及时的把TCP的数据取出来
就会造成TCP缓冲区中存放了几段数据
</code></pre><p><a href="https://blog.csdn.net/tiandijun/article/details/41961785" title="Title" target="_blank" rel="noopener">good </a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/17/git-commit-规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/git-commit-规范/" itemprop="url">git commit 规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-17T11:40:49+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Commit-message-的作用"><a href="#1-Commit-message-的作用" class="headerlink" title="1 Commit message 的作用"></a>1 Commit message 的作用</h2><h4 id="1）提供更多的历史信息，方便快速浏览"><a href="#1）提供更多的历史信息，方便快速浏览" class="headerlink" title="1）提供更多的历史信息，方便快速浏览"></a>1）提供更多的历史信息，方便快速浏览</h4><pre><code>$ git log &lt;last tag&gt; HEAD --pretty=format:%s
</code></pre><h4 id="2）可以过滤某些commit（比如文档改动），便于快速查找信息"><a href="#2）可以过滤某些commit（比如文档改动），便于快速查找信息" class="headerlink" title="2）可以过滤某些commit（比如文档改动），便于快速查找信息"></a>2）可以过滤某些commit（比如文档改动），便于快速查找信息</h4><pre><code>$ git log &lt;last release&gt; HEAD --grep feature
</code></pre><h4 id="3）可以直接从commit生成Change-log"><a href="#3）可以直接从commit生成Change-log" class="headerlink" title="3）可以直接从commit生成Change log"></a>3）可以直接从commit生成Change log</h4><pre><code>Change Log 是发布新版本时，用来说明与上一个版本差异的文档
</code></pre><h2 id="2-Commit-message-的格式"><a href="#2-Commit-message-的格式" class="headerlink" title="2 Commit message 的格式"></a>2 Commit message 的格式</h2><pre><code>每次提交，Commit message 都包括三个部分：Header，Body 和 Footer

&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
// 空一行
&lt;body&gt;
// 空一行
&lt;footer&gt;
</code></pre><h4 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h4><pre><code>Header部分只有一行，包括三个字段：type（必需）、scope（可选）和subject（必需）

1）type

type用于说明 commit 的类别，只允许使用下面7个标识

feat：新功能（feature）

fix：修补bug

docs：文档（documentation）

style： 格式（不影响代码运行的变动）

refactor：重构（即不是新增功能，也不是修改bug的代码变动）

test：增加测试

chore：构建过程或辅助工具的变动

如果type为feat和fix，则该 commit 将肯定出现在 Change log 之中
其他情况（docs、chore、style、refactor、test）由你决定
要不要放入 Change log，建议是不要

2）scope

scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。

3）subject

subject是 commit 目的的简短描述，不超过50个字符。

以动词开头，使用第一人称现在时，比如change，而不是changed或changes
第一个字母小写
结尾不加句号（.）
</code></pre><h4 id="Body"><a href="#Body" class="headerlink" title="Body"></a>Body</h4><pre><code>Body 部分是对本次 commit 的详细描述，可以分成多行

范例

More detailed explanatory text, if necessary.  Wrap it to 
about 72 characters or so. 

Further paragraphs come after blank lines.

- Bullet points are okay, too
- Use a hanging indent

有两个注意点

1）使用第一人称现在时，比如使用change而不是changed或changes

2）应该说明代码变动的动机，以及与以前行为的对比
</code></pre><h4 id="Footer"><a href="#Footer" class="headerlink" title="Footer"></a>Footer</h4><pre><code>Footer 部分只用于两种情况

1）不兼容变动

如果当前代码与上一个版本不兼容

则 Footer 部分以BREAKING CHANGE开头

后面是对变动的描述、以及变动理由和迁移方法

2）关闭 Issue

如果当前 commit 针对某个issue

那么可以在 Footer 部分关闭这个 issue

Closes #234
</code></pre><h4 id="Revert"><a href="#Revert" class="headerlink" title="Revert"></a>Revert</h4><pre><code>如果当前 commit 用于撤销以前的 commit

则必须以revert:开头，后面跟着被撤销 Commit 的 Header

revert: feat(pencil): add &apos;graphiteWidth&apos; option

This reverts commit 667ecc1654a317a13331b17617d973392f415f02

Body部分的格式是固定的，必须写成This reverts commit &amp;lt;hash&gt;.

其中的hash是被撤销 commit 的 SHA 标识符
</code></pre><h4 id="Commitizen"><a href="#Commitizen" class="headerlink" title="Commitizen"></a>Commitizen</h4><pre><code>Commitizen是一个撰写合格 Commit message 的工具

安装命令    $ npm install -g commitizen

在项目目录里，运行下面的命令

$ commitizen init cz-conventional-changelog --save --save-exact

以后，凡是用到git commit命令，一律改为使用git cz

这时，就会出现选项，用来生成符合格式的 Commit message
</code></pre><h4 id="validate-commit-msg"><a href="#validate-commit-msg" class="headerlink" title="validate-commit-msg"></a>validate-commit-msg</h4><pre><code>validate-commit-msg 用于检查 Node 项目的 Commit message 是否符合格式

它的安装是手动的

首先，拷贝下面这个JS文件，放入你的代码库

文件名可以取为validate-commit-msg.js

接着，把这个脚本加入 Git 的 hook

下面是在package.json里面使用 ghooks

把这个脚本加为commit-msg时运行

&quot;config&quot;: {
    &quot;ghooks&quot;: {
        &quot;commit-msg&quot;: &quot;./validate-commit-msg.js&quot;
    }
}

然后，每次git commit的时候，这个脚本就会自动检查 Commit message 是否合格

如果不合格，就会报错
</code></pre><h4 id="生成-Change-log"><a href="#生成-Change-log" class="headerlink" title="生成 Change log"></a>生成 Change log</h4><pre><code>conventional-changelog 就是生成 Change log 的工具，运行下面的命令即可。

$ npm install -g conventional-changelog
$ cd my-project
$ conventional-changelog -p angular -i CHANGELOG.md -w

上面命令不会覆盖以前的 Change log

只会在CHANGELOG.md的头部加上自从上次发布以来的变动

如果你想生成所有发布的 Change log，要改为运行下面的命令

$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0

为了方便使用，可以将其写入package.json的scripts字段。

{
    &quot;scripts&quot;: {
        &quot;changelog&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -w -r 0&quot;
    }
}
以后，直接运行下面的命令即可。

$ npm run changelog
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/17/github技巧-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/github技巧-01/" itemprop="url">github技巧-01</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-17T10:57:00+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="github-与-git-关系"><a href="#github-与-git-关系" class="headerlink" title="github 与 git 关系"></a>github 与 git 关系</h2><pre><code>git是代码管理的工具

github是通过git来完成存放代码的远程仓库
</code></pre><h4 id="Github项目变成网站"><a href="#Github项目变成网站" class="headerlink" title="Github项目变成网站"></a>Github项目变成网站</h4><pre><code>立一个gh-pages的分支，通过setting里的设置的GitHub Pages模块可以自动创建该项目的网站
</code></pre><h3 id="trending"><a href="#trending" class="headerlink" title="trending"></a>trending</h3><pre><code>https://github.com/trending/javascript?since=daily

https://github.com/trending/html?since=daily

https://github.com/trending/css?since=daily
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/17/一篇文章-教你学会Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/一篇文章-教你学会Git/" itemprop="url">一篇文章 教你学会Git</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-17T03:07:18+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Git工作流程"><a href="#1-Git工作流程" class="headerlink" title="1 Git工作流程"></a>1 Git工作流程</h2><p><img src="../images/git2.png" alt>   </p>
<pre><code>Workspace：工作区
Index / Stage：暂存区
Repository：仓库区 或本地仓库
Remote：远程仓库
</code></pre><h4 id="工作区"><a href="#工作区" class="headerlink" title="工作区"></a>工作区</h4><pre><code>code的地方
</code></pre><h4 id="暂存区"><a href="#暂存区" class="headerlink" title="暂存区"></a>暂存区</h4><pre><code>.git目录下的index文件, 暂存区会记录git add添加文件的相关信息

不保存文件实体, 通过id指向每个文件实体

可以使用git status查看暂存区的状态

暂存区标记了你当前工作区中，哪些内容是被git管理的

当你完成某个需求或功能后需要提交到远程仓库

那么第一步就是通过git add先提交到暂存区 被git管理
</code></pre><h4 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h4><pre><code>保存了对象被提交 过的各个版本 每提交一次到本地仓库就生成一个commitID

git commit后同步index的目录树到本地仓库

方便从下一步通过git push同步本地仓库与远程仓库的同步
</code></pre><h4 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h4><pre><code>远程仓库的内容可能被分布在多个地点的处于协作关系的本地仓库修改

因此它可能与本地仓库同步，也可能不同步，但是它的内容是最旧的
</code></pre><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><pre><code>任何对象都是在工作区中诞生和被修改

任何修改都是从进入index区才开始被版本控制

只有把修改提交到本地仓库，该修改才能在仓库中留下痕迹

与协作者分享本地的修改，可以把它们push到远程仓库来共享  
</code></pre><p><img src="../images/git3.png" alt>  </p>
<h2 id="2-常用Git命令"><a href="#2-常用Git命令" class="headerlink" title="2 常用Git命令"></a>2 常用Git命令</h2><p><img src="../images/git4.png" alt>  </p>
<h4 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h4><p><img src="../images/git5.png" alt>  </p>
<pre><code>HEAD 它始终指向当前所处分支的最新的提交点

你所处的分支变化了 或者产生了新的提交点 HEAD就会跟着改变

关键字的提取 当前分支  最新的commitID
</code></pre><h4 id="add"><a href="#add" class="headerlink" title="add"></a>add</h4><p><img src="../images/git6.png" alt>  </p>
<pre><code>add 主要实现将工作区修改的内容提交到暂存区 交由git管理

git add .    添加当前目录的所有文件到暂存区

git add [dir]    添加指定目录到暂存区，包括子目录

git add [file1]    添加指定文件到暂存区
</code></pre><h4 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h4><p><img src="../images/git7.png" alt>  </p>
<pre><code>commit 主要实现将暂存区的内容提交到本地仓库

并使得当前分支的HEAD向后移动一个提交点

git commit -m [message]
提交暂存区到本地仓库,message代表说明信息

git commit [file1] -m [message]
提交暂存区的指定文件到本地仓库

git commit --amend -m [message]
使用一次新的commit，替代上一次提交
</code></pre><h4 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h4><p><img src="../images/git8.png" alt>  </p>
<pre><code>git branch
列出所有本地分支

git branch -r
列出所有远程分支

git branch -a
列出所有本地分支和远程分支

git branch [branch-name]
新建一个分支，但依然停留在当前分支

git checkout -b [branch-name]
新建一个分支，并切换到该分支

git branch --track [branch][remote-branch]
新建一个分支，与指定的远程分支建立追踪关系

git checkout [branch-name]
切换到指定分支，并更新工作区

git branch -d [branch-name]
删除分支

git push origin --delete [branch-name]
删除远程分支
</code></pre><h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><p><img src="../images/git9.png" alt>  </p>
<pre><code>merge命令把不同的分支合并起来

如上图 在实际开放中，我们可能从master分支中切出一个分支

然后进行开发完成需求 中间经过R3,R4,R5的commit记录

最后开发完成需要合入master中，这便用到了merge  

git fetch [remote]    merge之前先拉一下远程仓库最新代码

git merge [branch]    合并指定分支到当前分支

一般在merge之后，会出现conflict

需要针对冲突情况 手动解除冲突

主要是因为两个用户修改了同一文件的同一块区域

7  &lt;   7 =
</code></pre><h4 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h4><p><img src="../images/git10.png" alt>   </p>
<pre><code>rebase又称为衍合 是合并的另外一种选择
</code></pre><h4 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h4><p><img src="../images/git11.png" alt> </p>
<pre><code>git reset —soft [commit]
只改变提交点，暂存区和工作目录的内容都不改变

git reset —mixed [commit]
改变提交点，同时改变暂存区的内容

git reset —hard [commit]
暂存区、工作区的内容都会被修改到与提交点完全一致的状态

git reset --hard HEAD
让工作区回到上次提交时的状态
</code></pre><h4 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h4><p><img src="../images/git12.png" alt>  </p>
<pre><code>git revert用一个新提交来消除一个历史提交所做的任何修改
</code></pre><h4 id="revert与reset的区别"><a href="#revert与reset的区别" class="headerlink" title="revert与reset的区别"></a>revert与reset的区别</h4><p><img src="../images/git13.png" alt>  </p>
<pre><code>git revert是用一次新的commit来回滚之前的commit

git reset是直接删除指定的commit

git revert是用一次逆向的commit“中和”之前的提交 因此日后合并老的branch时
导致这部分改变不会再次出现，减少冲突

但是git reset是之间把某些commit在某个branch上删除
因而和老的branch再次merge时 这些被回滚的commit应该还会被引入 产生很多冲突

git reset 是把HEAD向后移动了一下，而git revert是HEAD继续前进
只是新的commit的内容和要revert的内容正好相反
能够抵消要被revert的内容
</code></pre><h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><pre><code>实现本地仓库分支与远程仓库分支同步

git push [remote][branch]
上传本地指定分支到远程仓库

git push [remote] --force
强行推送当前分支到远程仓库，即使有冲突

git push [remote] --all 
推送所有分支到远程仓库
</code></pre><h4 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h4><pre><code>git status
显示有变更的文件

git log
显示当前分支的版本历史

git diff
显示暂存区和工作区的差异

git diff HEAD
显示工作区与当前分支最新commit之间的差异

git cherry-pick [commit]
选择一个commit 合并进当前分支
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/16/玩懂Git-命令篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/16/玩懂Git-命令篇/" itemprop="url">玩懂Git-命令篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-16T21:46:49+08:00">
                2019-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Git"><a href="#1-Git" class="headerlink" title="1 Git"></a>1 Git</h2><pre><code>Git是代码管理工具
</code></pre><h2 id="2-Git基本概念"><a href="#2-Git基本概念" class="headerlink" title="2 Git基本概念"></a>2 Git基本概念</h2><pre><code>Workspace：工作区

Index / Stage：暂存区

Repository：本地仓库

Remote：远程仓库
</code></pre><p><img src="../images/git1.png" alt>  </p>
<h2 id="3-配置"><a href="#3-配置" class="headerlink" title="3 配置"></a>3 配置</h2><p>Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置） ~/.gitconfig</p>
<p>也可以在项目目录下 .gitconfig</p>
<pre><code># 显示当前的Git配置
$ git config --list

# 编辑Git配置文件
$ git config -e [--global]  // --global 设置全局的

# 设置提交代码时的用户信息
$ git config [--global] user.name &quot;[name]&quot;
$ git config [--global] user.email &quot;[email address]&quot;
</code></pre><h2 id="4-新建代码库"><a href="#4-新建代码库" class="headerlink" title="4 新建代码库"></a>4 新建代码库</h2><pre><code># 在当前目录新建一个Git代码库
$ git init

# 新建一个目录，将其初始化为Git代码库
$ git init [project-name]

# 下载一个项目和它的整个代码历史
$ git clone [url]
</code></pre><h2 id="5-增加文件"><a href="#5-增加文件" class="headerlink" title="5 增加文件"></a>5 增加文件</h2><pre><code># 添加指定文件到暂存区
$ git add [file1] [file2] ...

# 添加指定目录到暂存区，包括子目录
$ git add [dir]

# 添加当前目录的所有文件到暂存区
$ git add .

# 添加每个变化前，都会要求确认
# 对于同一个文件的多处变化，可以实现分次提交
$ git add -
</code></pre><h2 id="6-删除文件"><a href="#6-删除文件" class="headerlink" title="6 删除文件"></a>6 删除文件</h2><pre><code># 删除工作区文件，并且将这次删除放入暂存区
$ git rm [file1] [file2] ...

# 停止追踪指定文件，但该文件会保留在工作区
$ git rm --cached [file]

# 改名文件，并且将这个改名放入暂存区
$ git mv [file-original] [file-renamed]
</code></pre><h2 id="7-代码提交"><a href="#7-代码提交" class="headerlink" title="7 代码提交"></a>7 代码提交</h2><pre><code># 提交暂存区到仓库区
$ git commit -m [message]

# 提交暂存区的指定文件到仓库区
$ git commit [file1] [file2] ... -m [message]

# 提交工作区自上次commit之后的变化，直接到仓库区
$ git commit -a

# 提交时显示所有diff信息
$ git commit -v

# 使用一次新的commit，替代上一次提交
# 如果代码没有任何新变化，则用来改写上一次commit的提交信息
$ git commit --amend -m [message]

# 重做上一次commit，并包括指定文件的新变化
$ git commit --amend [file1] [file2] ...
</code></pre><h2 id="8-分支"><a href="#8-分支" class="headerlink" title="8 分支"></a>8 分支</h2><pre><code># 列出所有本地分支
$ git branch

# 列出所有远程分支 
$ git branch -r

# 列出所有本地分支和远程分支
$ git branch -a

# 新建一个分支，但依然停留在当前分支
$ git branch [branch-name]

# 新建一个分支，并切换到该分支
$ git checkout -b [branch]

# 新建一个分支，指向指定commit
$ git branch [branch] [commit]

# 新建一个分支，与指定的远程分支建立追踪关系
$ git branch --track [branch] [remote-branch]

# 切换到指定分支，并更新工作区
$ git checkout [branch-name]

# 切换到上一个分支
$ git checkout -

# 建立追踪关系，在现有分支与指定的远程分支之间
$ git branch --set-upstream [branch] [remote-branch]

# 合并指定分支到当前分支
$ git merge [branch]

# 选择一个commit，合并进当前分支
$ git cherry-pick [commit]

# 删除分支 delete
$ git branch -d [branch-name]

# 删除远程分支
$ git push origin --delete [branch-name]

$ git branch -dr [remote/branch]
</code></pre><h2 id="9-标签"><a href="#9-标签" class="headerlink" title="9 标签"></a>9 标签</h2><pre><code># 列出所有tag
$ git tag

# 新建一个tag在当前commit
$ git tag [tag]

# 新建一个tag在指定commit
$ git tag [tag] [commit]

# 删除本地tag
$ git tag -d [tag]

# 删除远程tag
$ git push origin :refs/tags/[tagName]

# 查看tag信息
$ git show [tag]

# 提交指定tag
$ git push [remote] [tag]

# 提交所有tag
$ git push [remote] --tags

# 新建一个分支，指向某个tag
$ git checkout -b [branch] [tag]
</code></pre><h2 id="10-查看信息"><a href="#10-查看信息" class="headerlink" title="10 查看信息"></a>10 查看信息</h2><pre><code># 显示有变更的文件
$ git status

# 显示当前分支的版本历史
$ git log

# 显示commit历史，以及每次commit发生变更的文件
$ git log --stat

# 搜索提交历史，根据关键词
$ git log -S [keyword]

# 显示某个commit之后的所有变动，每个commit占据一行
$ git log [tag] HEAD --pretty=format:%s

# 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件
$ git log [tag] HEAD --grep feature

# 显示某个文件的版本历史，包括文件改名
$ git log --follow [file]
$ git whatchanged [file]

# 显示指定文件相关的每一次diff
$ git log -p [file]

# 显示过去5次提交
$ git log -5 --pretty --oneline

# 显示所有提交过的用户，按提交次数排序
$ git shortlog -sn

# 显示指定文件是什么人在什么时间修改过
$ git blame [file]

# 显示暂存区和工作区的差异
$ git diff

# 显示暂存区和上一个commit的差异
$ git diff --cached [file]

# 显示工作区与当前分支最新commit之间的差异
$ git diff HEAD

# 显示两次提交之间的差异
$ git diff [first-branch]...[second-branch]

# 显示今天你写了多少行代码
$ git diff --shortstat &quot;@{0 day ago}&quot;

# 显示某次提交的元数据和内容变化
$ git show [commit]

# 显示某次提交发生变化的文件
$ git show --name-only [commit]

# 显示某次提交时，某个文件的内容
$ git show [commit]:[filename]

# 显示当前分支的最近几次提交
$ git reflog
</code></pre><h2 id="11-远程同步"><a href="#11-远程同步" class="headerlink" title="11 远程同步"></a>11 远程同步</h2><pre><code># 下载远程仓库的所有变动
$ git fetch [remote]

# 显示所有远程仓库
$ git remote -v

# 显示某个远程仓库的信息
$ git remote show [remote]

# 增加一个新的远程仓库，并命名
$ git remote add [shortname] [url]

# 取回远程仓库的变化，并与本地分支合并
$ git pull [remote] [branch]

# 上传本地指定分支到远程仓库
$ git push [remote] [branch]

# 强行推送当前分支到远程仓库，即使有冲突
$ git push [remote] --force

# 推送所有分支到远程仓库
$ git push [remote] --all
</code></pre><h2 id="12-撤销"><a href="#12-撤销" class="headerlink" title="12 撤销"></a>12 撤销</h2><pre><code># 恢复暂存区的指定文件到工作区
$ git checkout [file]

# 恢复某个commit的指定文件到暂存区和工作区
$ git checkout [commit] [file]

# 恢复暂存区的所有文件到工作区
$ git checkout .

# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
$ git reset [file]

# 重置暂存区与工作区，与上一次commit保持一致
$ git reset --hard

# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
$ git reset [commit]

# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
$ git reset --hard [commit]

# 重置当前HEAD为指定commit，但保持暂存区和工作区不变
$ git reset --keep [commit]

# 新建一个commit，用来撤销指定commit
# 后者的所有变化都将被前者抵消，并且应用到当前分支
$ git revert [commit]

# 暂时将未提交的变化移除，稍后再移入  // 临时将暂存区的内容保存便于其他操作
$ git stash
$ git stash pop
</code></pre><h2 id="13-其他"><a href="#13-其他" class="headerlink" title="13 其他"></a>13 其他</h2><pre><code># 生成一个可供发布的压缩包
$ git archive
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/16/众妙之门-网站UI设计之道/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/16/众妙之门-网站UI设计之道/" itemprop="url">众妙之门-网站UI设计之道</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-16T09:07:04+08:00">
                2019-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jsonload.com/2019/03/06/CommonJS的初步实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="killsos.ql@gmail.com">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="killsos">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/06/CommonJS的初步实现/" itemprop="url">CommonJS的初步实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-06T05:15:27+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="CommonJS主流程的实现"><a href="#CommonJS主流程的实现" class="headerlink" title="CommonJS主流程的实现"></a>CommonJS主流程的实现</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> vm = <span class="built_in">require</span>(<span class="string">'vm'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">req</span>(<span class="params">modulePath</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 获取文件绝对路径</span></span><br><span class="line">    <span class="keyword">let</span> absPath = path.resolve(__dirname, modulePath);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Module._cache[absPath]) &#123;</span><br><span class="line">        <span class="keyword">return</span> Module._cache[absPath].exports</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成一个新module</span></span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">module</span> = <span class="keyword">new</span> Module(absPath);</span><br><span class="line"></span><br><span class="line">    Module._cache[absPath] = <span class="built_in">module</span>;</span><br><span class="line"></span><br><span class="line">    tryModuleLoad(<span class="built_in">module</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">module</span>.exports;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Module</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// id 是文件的绝对路径</span></span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="comment">// exports 是返回结果</span></span><br><span class="line">    <span class="keyword">this</span>.exports = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Module._wrapper = [</span><br><span class="line">    <span class="string">"(function(exprots, module, require, __dirname, __filename) &#123;"</span>,</span><br><span class="line">    <span class="string">"&#125;)"</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Module._extensions = [</span><br><span class="line">    <span class="string">'.js'</span> (<span class="built_in">module</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> content = fs.readFileSync(<span class="built_in">module</span>.id, <span class="string">'utf8'</span>);</span><br><span class="line">        <span class="keyword">let</span> fnString = Module._wrapper[<span class="number">0</span>] + content + Module._wrapper[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">let</span> fn = vm.runInThisContext(fnString);</span><br><span class="line">        <span class="keyword">let</span> result = fn.call(<span class="built_in">module</span>.exports, <span class="built_in">module</span>.exports, <span class="built_in">module</span>, req)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'.json'</span> (<span class="built_in">module</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> json = <span class="built_in">JSON</span>.parse(fs.readFileSync(<span class="built_in">module</span>.id, <span class="string">'utf8'</span>));</span><br><span class="line">        <span class="built_in">module</span>.exports = json;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tryModuleLoad</span>(<span class="params">module</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> extension = path.extname(<span class="built_in">module</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!extension) &#123;</span><br><span class="line">        extension = <span class="string">'.js'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Module._extensions[extension](<span class="built_in">module</span>.id)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = req(<span class="string">'./a'</span>);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">killsos.ql@gmail.com</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">killsos.ql@gmail.com</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
